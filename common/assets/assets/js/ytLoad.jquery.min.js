(function(f){var h="ytLoad";var c;var i;var b;function d(){var j=f("#"+c.progressBarId);if(j.length==0){f("body").append('<div id="'+c.progressBarId+'" class="'+c.progressBarId+'"><dt></dt><dd></dd></div>');j=f("#"+c.progressBarId)}return j}function g(){return b}function e(k,n,o){var j=d();if(!n){n=(k-b)*c.durationSeed}b=k;var l=(101/100)*k;l=Math.round(l*100)/100;var m=false;j.transit({width:l+"%",duration:n,complete:function(){if(m){if(l>99){j.delay(c.fadeDelay);j.fadeOut({duration:c.fadeDuration,complete:function(){j.remove()}});c.onComplete()}if(o){o()}}else{m=true}}})}var a={init:function(j){i=false;progress=0;c=f.extend({registerAjaxHandlers:true,startPercentage:30,startDuration:200,completeDuration:50,fadeDelay:200,fadeDuration:200,progressBarId:h,durationSeed:8,onStart:function(){},onComplete:function(){},onError:function(){}},j);if(c.registerAjaxHandlers){f(document).on("ajaxStart."+h,function(){a.start()});f(document).on("ajaxComplete."+h,function(){if(f.active<2){a.complete()}});f(document).on("ajaxError."+h,function(){a.error()})}},progress:function(j,k,l){if(!j){return g()}else{e(j,k,l)}},start:function(){var j=d();i=false;a.progress(c.startPercentage,c.startDuration);c.onStart()},complete:function(){var j=d();a.progress(100,c.completeDuration)},error:function(){var j=f("#"+c.progressBarId);j.addClass("error");c.onError()},destroy:function(){if(c.registerAjaxHandlers){f(document).off("ajaxStart."+h);f(document).off("ajaxComplete."+h);f(document).off("ajaxError."+h)}var j=f("#"+c.progressBarId);if(j.length!=0){j.remove()}}};f.ytLoad=function(j){if(a[j]){return a[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return a.init.apply(this,arguments)}else{f.error("Method "+method+" does not exist on jQuery."+h)}}}}(jQuery));